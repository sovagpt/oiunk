<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GIF Animation Test</title>
    <style>
        body {
            background: #333;
            color: white;
            font-family: Arial, sans-serif;
            text-align: center;
            padding: 20px;
        }
        
        #testCanvas {
            border: 2px solid #fff;
            margin: 20px;
        }
        
        button {
            background: #ff6b6b;
            color: white;
            border: none;
            padding: 15px 30px;
            margin: 10px;
            border-radius: 10px;
            font-size: 18px;
            cursor: pointer;
        }
        
        button:hover {
            background: #ff5252;
        }
        
        .status {
            background: #222;
            padding: 15px;
            border-radius: 10px;
            margin: 20px;
            font-family: monospace;
        }
    </style>
</head>
<body>
    <h1>üê∑ Porky GIF Animation Test</h1>
    
    <div class="status" id="status">Ready to test GIF animation...</div>
    
    <canvas id="testCanvas" width="1403" height="992"></canvas>
    
    <div>
        <button onclick="showStudio()">Show Studio Image</button>
        <button onclick="showPorky()">Show Porky GIF</button>
        <button onclick="toggleAuto()">Toggle Auto Switch</button>
    </div>
    
    <div class="status">
        <strong>Test Steps:</strong><br>
        1. Click "Show Studio Image" - should show static studio<br>
        2. Click "Show Porky GIF" - should show ANIMATED Porky<br>
        3. If GIF doesn't animate, we'll try different methods
    </div>

    <script>
        class GifTester {
            constructor() {
                this.canvas = document.getElementById('testCanvas');
                this.ctx = this.canvas.getContext('2d');
                this.status = document.getElementById('status');
                
                this.currentView = 'studio';
                this.autoSwitch = false;
                
                // Load images
                this.studioImg = new Image();
                this.porkyImg = new Image();
                
                this.studioImg.onload = () => this.updateStatus('‚úÖ Studio image loaded');
                this.porkyImg.onload = () => this.updateStatus('‚úÖ Porky GIF loaded');
                
                this.studioImg.src = 'https://raw.githubusercontent.com/sovagpt/oiunk/main/assets/images/studio.jpg';
                this.porkyImg.src = 'https://raw.githubusercontent.com/sovagpt/oiunk/main/assets/images/porky.gif';
                
                // Start animation loop
                this.animate();
                
                this.updateStatus('Loading images...');
            }
            
            animate() {
                // Clear canvas
                this.ctx.clearRect(0, 0, 1403, 992);
                
                if (this.currentView === 'studio' && this.studioImg.complete) {
                    this.ctx.drawImage(this.studioImg, 0, 0, 1403, 992);
                } else if (this.currentView === 'porky' && this.porkyImg.complete) {
                    // This should animate the GIF
                    this.ctx.drawImage(this.porkyImg, 0, 0, 1403, 992);
                } else {
                    // Fallback
                    this.ctx.fillStyle = '#667eea';
                    this.ctx.fillRect(0, 0, 1403, 992);
                    this.ctx.fillStyle = 'white';
                    this.ctx.font = '48px Arial';
                    this.ctx.textAlign = 'center';
                    this.ctx.fillText('Loading...', 701, 496);
                }
                
                requestAnimationFrame(() => this.animate());
            }
            
            showStudio() {
                this.currentView = 'studio';
                this.updateStatus('üì∏ Showing studio image');
            }
            
            showPorky() {
                this.currentView = 'porky';
                this.updateStatus('üê∑ Showing Porky GIF - should be animating!');
            }
            
            toggleAutoSwitch() {
                this.autoSwitch = !this.autoSwitch;
                if (this.autoSwitch) {
                    this.updateStatus('üîÑ Auto-switching every 3 seconds');
                    this.startAutoSwitch();
                } else {
                    this.updateStatus('‚èπÔ∏è Auto-switch stopped');
                }
            }
            
            startAutoSwitch() {
                if (!this.autoSwitch) return;
                
                setTimeout(() => {
                    if (this.autoSwitch) {
                        this.currentView = this.currentView === 'studio' ? 'porky' : 'studio';
                        this.updateStatus(`üîÑ Auto-switched to ${this.currentView}`);
                        this.startAutoSwitch();
                    }
                }, 3000);
            }
            
            updateStatus(message) {
                this.status.innerHTML = `${new Date().toLocaleTimeString()}: ${message}`;
                console.log(message);
            }
        }
        
        // Initialize
        const tester = new GifTester();
        
        // Global functions for buttons
        function showStudio() {
            tester.showStudio();
        }
        
        function showPorky() {
            tester.showPorky();
        }
        
        function toggleAuto() {
            tester.toggleAutoSwitch();
        }
    </script>
</body>
</html>
